@{
    ViewBag.Title = "Graphs";
}
<h2>@ViewBag.Title</h2>
<h3>@ViewBag.Message</h3>
<p>
    <input id="btnSaveGraph" type="button" Class="btn btn-default" value="Save Graph" />
    <input id="btnLoadGraph" type="button" Class="btn btn-default" value="Load Graph" />
</p>
<div id="map" style="width: 100%; height: 800px; ; display: inline-block; border: solid 1px;">

</div>

@section Scripts{
    <script>
        var map;
        var drawingManagers = [];
        var shapes = [];
        var graph;




        $(document).ready(function() {
            var geocoder = new google.maps.Geocoder();

            geocoder.geocode({ 'address': "Ireland" }, function(results, status) {
                createMap(results[0].geometry.location);
            });
        });

        function createMap(centre) {
            map = new google.maps.Map(document.getElementById('map'), {
                center: centre,
                zoom: 8
            });

            loadGraph();
            dropMarker(centre);

        }

        function loadGraph() {
            $.get("/Graphs/GetGraph", function (responseData) {
                graph = responseData;
            });
        }

        function dropMarker(position)
        {
            var marker = new google.maps.Marker({
                position: position,
                map: map,
                draggable: true,
                title: 'Move Me Around'
            });
        }

    </script>
}


